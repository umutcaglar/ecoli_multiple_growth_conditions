hpi=dataOutput$dataScalingParameters$timeMin+
dataOutput$dataScalingParameters$timeRatio*dataOutput$timeIntensityData$hpi
GFP=dataOutput$dataScalingParameters$intensityMin+
dataOutput$dataScalingParameters$intensityRatio*dataOutput$timeIntensityData$GFP
dataOutput = list(timeIntensityData=data.frame(hpi,GFP))
return(dataOutput)
}
normalizeData <-
function(dataInput)
{
timeMin=min(dataInput$hpi)
timeData=dataInput$hpi-timeMin
timeRatio=max(timeData)
timeData=timeData/timeRatio
intensityMin=min(dataInput$GFP)
intensityData=dataInput$GFP-intensityMin
intensityRatio=max(intensityData)
intensityData=intensityData/intensityRatio
dataOutput = data.frame(hpi=timeData,GFP=intensityData)
return(list(timeIntensityData=dataOutput,
dataScalingParameters=c(timeMin=timeMin,
timeRatio=timeRatio,
intensityMin=intensityMin,
intensityRatio=intensityRatio)))
}
normalizeData <-
function(dataInput)
{
timeMin=min(dataInput$hpi)
timeData=dataInput$hpi-timeMin
timeRatio=max(timeData)
timeData=timeData/timeRatio
intensityMin=min(dataInput$GFP)
intensityData=dataInput$GFP-intensityMin
intensityRatio=max(intensityData)
intensityData=intensityData/intensityRatio
dataOutput = data.frame(hpi=timeData,GFP=intensityData)
return(list(timeIntensityData=dataOutput,
dataScalingParameters=c(timeMin=timeMin,
timeRatio=timeRatio,
intensityMin=intensityMin,
intensityRatio=intensityRatio)))
}
hpi = seq(3,48,0.5)
GFP=runif(length(hpi), 3.0, 7.5)
dataInput = data.frame(hpi,GFP)
dataOutput = normalizeData(dataInput)
dataInput2=dataOutput
dataOutput2 = dataCheck(dataInput2)
dataOutput2
sd(c(3,5))
170*105/151
require("sicegar")
detach(sicegar)
detach("sicegar")
load("~/GitHub/single_cell_virology/processedData/SCV045_filter00_combinedResults.Rda")
View(all_fPc_SCV045_filter00)
all_fPc_SCV045_filter00[7,]
all_fPc_SCV045_filter00[7,]
all_fPc_SCV045_filter00[7,]
t(all_fPc_SCV045_filter00[7,])
t(all_fPc_SCV045_filter00[12,])
source('~/GitHub/ecoli_multiple_growth_conditions/b_code_histogram_RNA&Protein/heatMapFigureRNA.R', echo=TRUE)
source('~/GitHub/ecoli_multiple_growth_conditions/b_code_histogram_RNA&Protein/heatMapFigureProtein.R', echo=TRUE)
source('~/GitHub/ecoli_multiple_growth_conditions/b_code_histogram_RNA&Protein/heatMapFigureProtein.R', echo=TRUE)
source('~/GitHub/ecoli_multiple_growth_conditions/b_code_histogram_RNA&Protein/cophenetic_distance_v2.R', echo=TRUE)
View(conditionSummary)
source('~/GitHub/ecoli_multiple_growth_conditions/b_code_histogram_RNA&Protein/cophenetic_distance_v2.R', echo=TRUE)
View(cophenetic_distance_matrix_real)
View(distance_matrix_real)
View(conditionSummary)
colnames(conditionSummary)
source('~/GitHub/ecoli_multiple_growth_conditions/b_code_histogram_RNA&Protein/cophenetic_distance_v2.R', echo=TRUE)
View(conditionSummary)
View(cophenetic_distance_matrix_real)
source('~/GitHub/ecoli_multiple_growth_conditions/b_code_histogram_RNA&Protein/cophenetic_distance_v2.R', echo=TRUE)
source('~/GitHub/ecoli_multiple_growth_conditions/b_code_histogram_RNA&Protein/cophenetic_distance_v2.R', echo=TRUE)
source('~/GitHub/ecoli_multiple_growth_conditions/b_code_histogram_RNA&Protein/cophenetic_distance_v2.R', echo=TRUE)
source('~/GitHub/ecoli_multiple_growth_conditions/b_code_histogram_RNA&Protein/cophenetic_distance_v2.R', echo=TRUE)
source('~/GitHub/ecoli_multiple_growth_conditions/b_code_histogram_RNA&Protein/cophenetic_distance_v2.R', echo=TRUE)
all(rowNamesCDM!=colNamesCDM)
(rowNamesCDM!=colNamesCDM)
!(rowNamesCDM!=colNamesCDM)
any(!(rowNamesCDM!=colNamesCDM))
source('~/GitHub/ecoli_multiple_growth_conditions/b_code_histogram_RNA&Protein/cophenetic_distance_v2.R', echo=TRUE)
View(conditionSummary)
View(cophenetic_distance_matrix_real)
View(conditionSummary)
conditionSummary[match(colNamesCDM, conditionSummary$dataSet),]
if(any(!(rowNamesCDM!=colNamesCDM))){stop("names are not consistent")}
any(!(rowNamesCDM!=colNamesCDM))
if(any(rowNamesCDM!=colNamesCDM)){stop("names are not consistent")}
source('~/GitHub/ecoli_multiple_growth_conditions/b_code_histogram_RNA&Protein/cophenetic_distance_v2.R', echo=TRUE)
View(conditionSummary)
View(cophenetic_distance_matrix_real)
View(conditionSummary)
source('~/GitHub/ecoli_multiple_growth_conditions/b_code_histogram_RNA&Protein/cophenetic_distance_v2.R', echo=TRUE)
source('~/GitHub/ecoli_multiple_growth_conditions/b_code_histogram_RNA&Protein/cophenetic_distance_v2.R', echo=TRUE)
source('~/GitHub/ecoli_multiple_growth_conditions/b_code_histogram_RNA&Protein/cophenetic_distance_v2.R', echo=TRUE)
source('~/GitHub/ecoli_multiple_growth_conditions/b_code_histogram_RNA&Protein/cophenetic_distance_v2.R', echo=TRUE)
View(conditionSummary)
View(cophenetic_distance_df_real)
ncol(cophenetic_distance_df_real)
source('~/GitHub/ecoli_multiple_growth_conditions/b_code_histogram_RNA&Protein/cophenetic_distance_v2.R', echo=TRUE)
source('~/GitHub/ecoli_multiple_growth_conditions/b_code_histogram_RNA&Protein/cophenetic_distance_v2.R', echo=TRUE)
View(cophenetic_distance_df_real_tidy)
View(cophenetic_distance_df_real_tidy)
source('~/GitHub/ecoli_multiple_growth_conditions/b_code_histogram_RNA&Protein/cophenetic_distance_v2.R', echo=TRUE)
View(cophenetic_distance_df_real_tidy)
source('~/GitHub/ecoli_multiple_growth_conditions/b_code_histogram_RNA&Protein/cophenetic_distance_v2.R', echo=TRUE)
View(cophenetic_distance_df_real_tidy)
143*143
conditionSummary %>%
dplyr::select(dataSet,growthPhase)->cs_growth
source('~/GitHub/ecoli_multiple_growth_conditions/b_code_histogram_RNA&Protein/cophenetic_distance_v2.R', echo=TRUE)
source('~/GitHub/ecoli_multiple_growth_conditions/b_code_histogram_RNA&Protein/cophenetic_distance_v2.R', echo=TRUE)
View(cophenetic_distance_df_real_tidy)
View(cs_growth)
source('~/GitHub/ecoli_multiple_growth_conditions/b_code_histogram_RNA&Protein/cophenetic_distance_v2.R', echo=TRUE)
View(cophenetic_distance_df_real_tidy)
source('~/GitHub/ecoli_multiple_growth_conditions/b_code_histogram_RNA&Protein/cophenetic_distance_v2.R', echo=TRUE)
View(cophenetic_distance_df_real_tidy)
source('~/GitHub/ecoli_multiple_growth_conditions/b_code_histogram_RNA&Protein/cophenetic_distance_v2.R', echo=TRUE)
View(cophenetic_distance_df_real_tidy)
source('~/GitHub/ecoli_multiple_growth_conditions/b_code_histogram_RNA&Protein/cophenetic_distance_v2.R', echo=TRUE)
source('~/GitHub/ecoli_multiple_growth_conditions/b_code_histogram_RNA&Protein/cophenetic_distance_v2.R', echo=TRUE)
View(cophenetic_distance_df_real_tidy)
source('~/GitHub/ecoli_multiple_growth_conditions/b_code_histogram_RNA&Protein/cophenetic_distance_v2.R', echo=TRUE)
View(cophenetic_distance_df_real_tidy)
source('~/GitHub/ecoli_multiple_growth_conditions/b_code_histogram_RNA&Protein/cophenetic_distance_v2.R', echo=TRUE)
View(conditionSummary)
View(cophenetic_distance_df_real_tidy)
colnames(cophenetic_distance_df_real_tidy)
source('~/GitHub/ecoli_multiple_growth_conditions/b_code_histogram_RNA&Protein/cophenetic_distance_v2.R', echo=TRUE)
View(cophenetic_distance_df_real_summary)
source('~/GitHub/ecoli_multiple_growth_conditions/b_code_histogram_RNA&Protein/cophenetic_distance_v2.R', echo=TRUE)
source('~/GitHub/ecoli_multiple_growth_conditions/b_code_histogram_RNA&Protein/cophenetic_distance_v2.R', echo=TRUE)
View(mainDataFrame_summary)
t(mainDataFrame_summary)
mainDataFrame_summary <-data.frame(mainDataFrame_summary[,-1], row.names=mainDataFrame_summary[,1])
mainDataFrame_summary[,-1]
row.names=mainDataFrame_summary[,1]
data.frame(mainDataFrame_summary[,-1], row.names=mainDataFrame_summary[,1])
mainDataFrame_summary <- as.data.frame(mainDataFrame_summary[,-1], row.names=mainDataFrame_summary[,1])
View(mainDataFrame_summary)
source('~/GitHub/ecoli_multiple_growth_conditions/b_code_histogram_RNA&Protein/cophenetic_distance_v2.R', echo=TRUE)
View(mainDataFrame_summary)
mainDataFrame_summary[1,]
source('~/GitHub/ecoli_multiple_growth_conditions/b_code_histogram_RNA&Protein/cophenetic_distance_v2.R', echo=TRUE)
View(mainDataFrame_summary)
row.names(mainDataFrame_summary)=mainDataFrame_summary[["variableC"]]
source('~/GitHub/ecoli_multiple_growth_conditions/b_code_histogram_RNA&Protein/cophenetic_distance_v2.R', echo=TRUE)
View(mainDataFrame_summary)
source('~/GitHub/ecoli_multiple_growth_conditions/b_code_histogram_RNA&Protein/cophenetic_distance_v2.R', echo=TRUE)
View(mainDataFrame_summary)
source('~/GitHub/ecoli_multiple_growth_conditions/b_code_histogram_RNA&Protein/cophenetic_distance_v2.R', echo=TRUE)
source('~/GitHub/ecoli_multiple_growth_conditions/b_code_histogram_RNA&Protein/cophenetic_distance_v2.R', echo=TRUE)
source('~/GitHub/ecoli_multiple_growth_conditions/b_code_histogram_RNA&Protein/cophenetic_distance_v2.R', echo=TRUE)
source('~/GitHub/ecoli_multiple_growth_conditions/b_code_histogram_RNA&Protein/cophenetic_distance_v2.R', echo=TRUE)
row.names(mainDataFrame_summary)=mainDataFrame_summary[["variableC"]]
mainDataFrame_summary[["variableC"]][["variableC"]]<-NULL
source('~/GitHub/ecoli_multiple_growth_conditions/b_code_histogram_RNA&Protein/cophenetic_distance_v2.R', echo=TRUE)
source('~/GitHub/ecoli_multiple_growth_conditions/b_code_histogram_RNA&Protein/cophenetic_distance_v2.R', echo=TRUE)
View(mainDataFrame_summary)
mean(mainDataFrame_tidy$cophenetic_distanceNa,na.rm = TRUE)
mean(mainDataFrame_tidy$cophenetic_distanceNa,na.rm = TRUE)
mainDataFrame_summary
source('~/GitHub/ecoli_multiple_growth_conditions/b_code_histogram_RNA&Protein/cophenetic_distance_v2.R', echo=TRUE)
source('~/GitHub/ecoli_multiple_growth_conditions/b_code_histogram_RNA&Protein/cophenetic_distance_v2.R', echo=TRUE)
View(mainDataFrame_summary)
rbind(mainDataFrame_summary,
c("allData",mean(mainDataFrame_tidy$cophenetic_distanceNa,na.rm = TRUE)))
c("allData",mean(mainDataFrame_tidy$cophenetic_distanceNa,na.rm = TRUE))
source('~/GitHub/ecoli_multiple_growth_conditions/b_code_histogram_RNA&Protein/cophenetic_distance_v2.R', echo=TRUE)
c(variableC="allData",
meanValue=mean(mainDataFrame_tidy$cophenetic_distanceNa,na.rm = TRUE))
View(mainDataFrame_summary)
source('~/GitHub/ecoli_multiple_growth_conditions/b_code_histogram_RNA&Protein/cophenetic_distance_v2.R', echo=TRUE)
mainDataFrame_summary$variableC
source('~/GitHub/ecoli_multiple_growth_conditions/b_code_histogram_RNA&Protein/cophenetic_distance_v2.R', echo=TRUE)
View(mainDataFrame_summary)
source('~/GitHub/ecoli_multiple_growth_conditions/b_code_histogram_RNA&Protein/cophenetic_distance_v2.R', echo=TRUE)
View(mainDataFrame_tidy)
View(mainDataFrame_summary)
source('~/GitHub/ecoli_multiple_growth_conditions/b_code_histogram_RNA&Protein/cophenetic_distance_v2.R', echo=TRUE)
View(mainDataFrame_summary)
source('~/GitHub/ecoli_multiple_growth_conditions/b_code_histogram_RNA&Protein/cophenetic_distance_v2.R', echo=TRUE)
View(growth_real)
colnames(conditionSummary)
source('~/GitHub/ecoli_multiple_growth_conditions/b_code_histogram_RNA&Protein/cophenetic_distance_v2.R', echo=TRUE)
source('~/GitHub/ecoli_multiple_growth_conditions/b_code_histogram_RNA&Protein/cophenetic_distance_v2.R', echo=TRUE)
View(carbon_real)
colnames(conditionSummary)
source('~/GitHub/ecoli_multiple_growth_conditions/b_code_histogram_RNA&Protein/cophenetic_distance_v2.R', echo=TRUE)
View(batch_real)
source('~/GitHub/ecoli_multiple_growth_conditions/b_code_histogram_RNA&Protein/cophenetic_distance_v2.R', echo=TRUE)
source('~/GitHub/ecoli_multiple_growth_conditions/b_code_histogram_RNA&Protein/cophenetic_distance_v2.R', echo=TRUE)
colnames(conditionSummary)
source('~/GitHub/ecoli_multiple_growth_conditions/b_code_histogram_RNA&Protein/cophenetic_distance_v2.R', echo=TRUE)
View(batch_fakeList)
View(batch_real)
mean(growth_fakeList)
growth_fakeList
colMeans(growth_fakeList)
growth_fakeList$exponential
source('~/GitHub/ecoli_multiple_growth_conditions/b_code_histogram_RNA&Protein/cophenetic_distance_v2.R', echo=TRUE)
colMeans(growth_fakeList)
apply(growth_fakeList, 2, sd)
(growth_real-colMeans(growth_fakeList))/apply(growth_fakeList, 2, sd)
growth_real
colMeans(growth_fakeList)
apply(growth_fakeList, 2, sd)
z_growth=(growth_real-colMeans(growth_fakeList))/apply(growth_fakeList, 2, sd)
View(z_growth)
source('~/GitHub/ecoli_multiple_growth_conditions/b_code_histogram_RNA&Protein/cophenetic_distance_v2.R', echo=TRUE)
z_batch=(batch_real-colMeans(batch_fakeList))/apply(batch_fakeList, 2, sd)
colnames(z_batch)
colnames(z_batch)[ncol(z_batch)]
source('~/GitHub/ecoli_multiple_growth_conditions/b_code_histogram_RNA&Protein/cophenetic_distance_v2.R', echo=TRUE)
z_batch
t(z_batch)
z_scores<-rbind(t(z_growth),t(z_carbon),t(z_Mg),t(z_Na),t(z_batch))
View(z_scores)
z_scores %>%
dplyr::add_rownames(var="variable")->z_scores
source('~/GitHub/ecoli_multiple_growth_conditions/b_code_histogram_RNA&Protein/cophenetic_distance_v2.R', echo=TRUE)
View(z_scores)
View(z_scores)
z_batch
t(z_batch)
data<-z_batch
data<-t(data)
colnames(data)<-"Z-score"
Overall_Z_score<-data[nrow(data)]
Overall_Z_score
colnames(conditionSummary)
length(data)
reShapeZScores<-function(variableInput,metaInput,z_data)
{
z_data<-z_batch
colnames(z_data)<-"Z_score"
Overall_Z_score<-data[nrow(data)]
z_data[length(z_data)]<-NULL
browser()
}
z_batch_re<-reShapeZScores(variableInput="batchNumber",
metaInput=conditionSummary,
z_data=z_batch)
cbind(Variable=variableInput,Overall_Z_score=Overall_Z_score)
reShapeZScores<-function(variableInput,metaInput,z_data)
{
z_data<-z_batch
colnames(z_data)<-"Z_score"
z_data[["Z_score"]]<-as.numeric(z_data[["Z_score"]])
Overall_Z_score<-data[nrow(data)]
z_data[length(z_data)]<-NULL
browser()
}
z_batch_re<-reShapeZScores(variableInput="batchNumber",
metaInput=conditionSummary,
z_data=z_batch)
cbind(Variable=variableInput,Overall_Z_score=Overall_Z_score)
z_data
reShapeZScores<-function(variableInput,metaInput,z_data)
{
z_data<-as.data.frame(t(z_batch))
colnames(z_data)<-"Z_score"
z_data[["Z_score"]]<-as.numeric(z_data[["Z_score"]])
Overall_Z_score<-data[nrow(z_data)]
z_data[nrow(z_data)]<-NULL
browser()
}
z_batch_re<-reShapeZScores(variableInput="batchNumber",
metaInput=conditionSummary,
z_data=z_batch)
reShapeZScores<-function(variableInput,metaInput,z_data)
{
z_data<-as.data.frame(t(z_batch))
colnames(z_data)<-"Z_score"
z_data[["Z_score"]]<-as.numeric(z_data[["Z_score"]])
browser()
Overall_Z_score<-data[nrow(z_data)]
z_data[nrow(z_data)]<-NULL
}
z_batch_re<-reShapeZScores(variableInput="batchNumber",
metaInput=conditionSummary,
z_data=z_batch)
z_data
Overall_Z_score<-data[nrow(z_data)]
z_data[nrow(z_data)]<-NULL
nrow(z_data)
z_data[nrow(z_data),]<-NULL
z_data[,nrow(z_data)]<-NULL
z_data[,nrow(z_data)]
z_data[nrow(z_data),]
View(z_data)
z_data[22,]
z_data[nrow(z_data),]
z_data[nrow(z_data),]<-NULL
reShapeZScores<-function(variableInput,metaInput,z_data)
{
z_data<-as.data.frame(t(z_batch))
colnames(z_data)<-"Z_score"
z_data[["Z_score"]]<-as.numeric(z_data[["Z_score"]])
Overall_Z_score<-data[nrow(z_data)]
z_data<-z_data[-c(nrow(z_data)), ]
browser()
}
reShapeZScores<-function(variableInput,metaInput,z_data)
{
z_data<-as.data.frame(t(z_batch))
colnames(z_data)<-"Z_score"
z_data[["Z_score"]]<-as.numeric(z_data[["Z_score"]])
Overall_Z_score<-data[nrow(z_data)]
z_data<-z_data[-c(nrow(z_data)), ]
browser()
}
z_batch_re<-reShapeZScores(variableInput="batchNumber",
metaInput=conditionSummary,
z_data=z_batch)
z_data
Overall_Z_score
reShapeZScores<-function(variableInput,metaInput,z_data)
{
z_data<-as.data.frame(t(z_batch))
z_data%>%
dplyr::add_rownames(var="Condition")->z_data
colnames(z_data)<-"Z_score"
z_data[["Z_score"]]<-as.numeric(z_data[["Z_score"]])
Overall_Z_score<-data[nrow(z_data),2]
z_data<-z_data[-c(nrow(z_data)), ]
browser()
}
z_batch_re<-reShapeZScores(variableInput="batchNumber",
metaInput=conditionSummary,
z_data=z_batch)
reShapeZScores<-function(variableInput,metaInput,z_data)
{
z_data<-as.data.frame(t(z_batch))
z_data%>%
dplyr::add_rownames(var="Condition")->z_data
colnames(z_data)<-"Z_score"
z_data[["Z_score"]]<-as.numeric(z_data[["Z_score"]])
Overall_Z_score<-data[nrow(z_data)]
z_data<-z_data[-c(nrow(z_data)), ]
browser()
}
z_batch_re<-reShapeZScores(variableInput="batchNumber",
metaInput=conditionSummary,
z_data=z_batch)
View(z_data)
Overall_Z_score
z_data
View(z_data)
reShapeZScores<-function(variableInput,metaInput,z_data)
{
old_z<-z_data
z_data<-as.data.frame(t(z_data))
z_data%>%
dplyr::add_rownames(var="Condition")->z_data
colnames(z_data)<-"Z_score"
z_data[["Z_score"]]<-as.numeric(z_data[["Z_score"]])
Overall_Z_score<-data[nrow(z_data)]
z_data<-z_data[-c(nrow(z_data)), ]
browser()
}
z_batch_re<-reShapeZScores(variableInput="batchNumber",
metaInput=conditionSummary,
z_data=z_batch)
View(old_z)
View(z_data)
View(old_z)
View(z_data)
Overall_Z_score<-data[nrow(z_data),]
reShapeZScores<-function(variableInput,metaInput,z_data)
{
old_z<-z_data
z_data<-as.data.frame(t(z_data))
z_data%>%
dplyr::add_rownames(var="Condition")->z_data
colnames(z_data)<-"Z_score"
z_data[["Z_score"]]<-as.numeric(z_data[["Z_score"]])
Overall_Z_score<-data[nrow(z_data),]
z_data<-z_data[-c(nrow(z_data)), ]
browser()
q<-rbind(variableInput,Overall_Z_score,z_data)
}
z_batch_re<-reShapeZScores(variableInput="batchNumber",
metaInput=conditionSummary,
z_data=z_batch)
rbind(variableInput,Overall_Z_score,z_data)
reShapeZScores<-function(variableInput,metaInput,z_data)
{
old_z<-z_data
z_data<-as.data.frame(t(z_data))
z_data%>%
dplyr::add_rownames(var="Condition")->z_data
colnames(z_data)<-"Z_score"
z_data[["Z_score"]]<-as.numeric(z_data[["Z_score"]])
Overall_Z_score<-data[nrow(z_data),]
z_data<-z_data[-c(nrow(z_data)), ]
browser()
q<-cbind(variableInput,Overall_Z_score,z_data)
}
z_batch_re<-reShapeZScores(variableInput="batchNumber",
metaInput=conditionSummary,
z_data=z_batch)
cbind(variableInput,Overall_Z_score,z_data)
reShapeZScores<-function(variableInput,metaInput,z_data)
{
old_z<-z_data
z_data<-as.data.frame(t(z_data))
z_data%>%
dplyr::add_rownames(var="Condition")->z_data
colnames(z_data)<-c("Condition","Z_score")
z_data[["Z_score"]]<-as.numeric(z_data[["Z_score"]])
Overall_Z_score<-data[nrow(z_data),]
z_data<-z_data[-c(nrow(z_data)), ]
browser()
q<-cbind(variableInput,Overall_Z_score,z_data)
}
z_batch_re<-reShapeZScores(variableInput="batchNumber",
metaInput=conditionSummary,
z_data=z_batch)
cbind(variableInput,Overall_Z_score,z_data)
metaInput %>%dplyr::group_by_(variableInput)%>%dplyr::summarise_(length(variableInput))
View(conditionSummary)
reShapeZScores<-function(variableInput,metaInput,z_data)
{
old_z<-z_data
z_data<-as.data.frame(t(z_data))
z_data%>%
dplyr::add_rownames(var="Condition")->z_data
colnames(z_data)<-c("Condition","Z_score")
z_data[["Z_score"]]<-as.numeric(z_data[["Z_score"]])
Overall_Z_score<-data[nrow(z_data),]
z_data<-z_data[-c(nrow(z_data)), ]
metaInput %>%
dplyr::group_by_(variableInput)%>%
dplyr::summarise_(length(variableInput))->q
browser()
q<-cbind(variableInput,Overall_Z_score,z_data)
}
z_batch_re<-reShapeZScores(variableInput="batchNumber",
metaInput=conditionSummary,
z_data=z_batch)
View(q)
metaInput
metaInput %>% dplyr::group_by(batchNumber)%>%dplyr::summarise(length(batchNumber))
metaInput %>% dplyr::group_by(batchNumber)%>%dplyr::summarise(length(batchNumber))->q
View(q)
sum(q$length(batchNumber))
q$length(batchNumber)
sum(q$`length(batchNumber)`)
metaInput %>% dplyr::group_by_(variableInput)%>%dplyr::summarise(length(batchNumber))->q
View(q)
metaInput %>% dplyr::group_by_(variableInput)%>%dplyr::summarise_(length(variableInput))->q
View(q)
metaInput %>% dplyr::group_by_(variableInput)%>%dplyr::summarise_(n())->q
metaInput %>% dplyr::group_by_(variableInput)%>%dplyr::summarise_(length())->q
View(metaInput)
metaInput %>% dplyr::group_by_(variableInput)%>%dplyr::summarise_(length(dataSet))->q
metaInput %>% dplyr::group_by_(variableInput)%>%dplyr::summarise(length(dataSet))->q
View(q)
metaInput %>%
dplyr::group_by_(variableInput)%>%
dplyr::summarise(num_elements=length(get(variableInput)))->metaInput_summary
metaInput %>%
dplyr::group_by_(variableInput)%>%
dplyr::summarise_(num_elements=length(get(variableInput)))->metaInput_summary
metaInput %>%
dplyr::group_by_(variableInput)%>%
dplyr::summarise_(num_elements=length(variableInput))->metaInput_summary
View(metaInput_summary)
metaInput %>%
dplyr::group_by_(variableInput)%>%
dplyr::summarise(num_elements=length(dataSet))->metaInput_summary
View(metaInput_summary)
View(z_data)
z_data<-cbind(variableInput,Overall_Z_score,z_data)
View(z_data)
q<-dplyr::left_join(z_data,metaInput_summary)
q<-dplyr::left_join(z_data,metaInput_summary,by=c("Condition"=variableInput))
z_data$Condition
metaInput_summary[[variableInput]]<-as.character(metaInput_summary[[variableInput]])
q<-dplyr::left_join(z_data,metaInput_summary,by=c("Condition"=variableInput))
View(q)
reShapeZScores<-function(variableInput,metaInput,z_data)
{
old_z<-z_data
z_data<-as.data.frame(t(z_data))
z_data%>%
dplyr::add_rownames(var="Condition")->z_data
colnames(z_data)<-c("Condition","Z_score")
z_data[["Z_score"]]<-as.numeric(z_data[["Z_score"]])
Overall_Z_score<-data[nrow(z_data),]
z_data<-z_data[-c(nrow(z_data)), ]
metaInput %>%
dplyr::group_by_(variableInput)%>%
dplyr::summarise(num_elements=length(dataSet))->metaInput_summary
metaInput_summary[[variableInput]]<-as.character(metaInput_summary[[variableInput]])
browser()
z_data<-cbind(variableInput,Overall_Z_score,z_data)
z_data<-dplyr::left_join(z_data,metaInput_summary,by=c("Condition"=variableInput))
return(z_data)
}
z_batch_re<-reShapeZScores(variableInput="batchNumber",
metaInput=conditionSummary,
z_data=z_batch)
z_data<-cbind(variableInput,Overall_Z_score,z_data)
z_data<-dplyr::left_join(z_data,metaInput_summary,by=c("Condition"=variableInput))
View(z_data)
