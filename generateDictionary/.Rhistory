source('~/GitHub/AG3C_Analyze/generateDictionary/comparingDictionaries.R', echo=TRUE)
source('~/GitHub/AG3C_Analyze/generateDictionary/comparingDictionaries.R', echo=TRUE)
View(dictionary_barrick)
View(dictionary_internet)
source('~/GitHub/AG3C_Analyze/generateDictionary/comparingDictionaries.R', echo=TRUE)
nrow(dictionary_barrick_unique)
nrow(dictionary_internet_unique)
source('~/GitHub/AG3C_Analyze/generateDictionary/comparingDictionaries.R', echo=TRUE)
unique_gene_id_barrick
unique_gene_id_internet
dictionary_barrick_unique[dictionary_barrick_unique$gene_id=="",]
row.names(dictionary_barrick_unique) <- NULL
dictionary_barrick_unique[dictionary_barrick_unique$gene_id=="",] #
dictionary_barrick_unique[926,]
dictionary_internet_unique[dictionary_internet_unique$gene_id=="RF01317.1",]
dictionary_internet_unique[dictionary_internet_unique$gene_name=="CRISPR-DR4",]
source('~/GitHub/AG3C_Analyze/generateDictionary/comparingDictionaries.R', echo=TRUE)
dictionary_barrick_unique$gene_id==""
which(dictionary_barrick_unique$gene_id=="")
dictionary_barrick_unique[-which(dictionary_barrick_unique$gene_id==""),] # remove it
source('~/GitHub/AG3C_Analyze/generateDictionary/comparingDictionaries.R', echo=TRUE)
nrow(dictionary_barrick_unique) #4486
barrick_temp=as.vector(dictionary_barrick_unique$gene_id)
internet_temp=as.vector(dictionary_internet_unique$gene_id)
unique_gene_id_barrick=setdiff(barrick_temp, internet_temp)
unique_gene_id_internet=setdiff(internet_temp, barrick_temp)
unique_gene_id_barrick
unique_gene_id_internet
dictionary_internet_unique %>% dplyr::filter(gene_id %in% unique_gene_id_internet)
dictionary_barrick_unique %>% dplyr::filter(gene_name == "hokC")
dictionary_barrick_unique %>% dplyr::filter(gene_name == "ECB_00830")
View(dictionary_barrick_unique)
dictionary_internet_unique[dictionary_internet_unique$gene_id=="NIL",] # it is line 927
source('~/GitHub/AG3C_Analyze/generateDictionary/comparingDictionaries.R', echo=TRUE)
nrow(dictionary_internet_unique) #4366
unique_gene_id_internet
colnames(dictionary_barrick_unique)
source('~/GitHub/AG3C_Analyze/generateDictionary/comparingDictionaries.R', echo=TRUE)
View(dictionary_internet)
View(dictionary_internet_unique)
dictionary_join=dplyr::inner_join(dictionary_barrick_unique,dictionary_internet_unique)
dictionary_join=dplyr::left_join(dictionary_barrick_unique,dictionary_internet_unique)
dictionary_join=merge(x = dictionary_barrick_unique,
y = dictionary_internet_unique,
by = "gene_id", all = TRUE)
View(dictionary_join)
debugSource('~/GitHub/AG3C_Analyze/generateDictionary/comparingDictionaries.R', echo=TRUE)
dictionary_barrick_unique $gene_name
duplicate(dictionary_barrick_unique $gene_name)
duplicated(dictionary_barrick_unique $gene_name)
dictionary_barrick_unique$gene_name[duplicated(dictionary_barrick_unique $gene_name)]
list_dup_barrick=as.vector(dictionary_barrick_unique$gene_name[duplicated(dictionary_barrick_unique $gene_name)])
dictionary_barrick_unique %>%
dplyr::filter(generic_name %in% list_dup_barrick)-> problematicBarrick
list_dup_barrick=as.vector(dictionary_barrick_unique$gene_name[duplicated(dictionary_barrick_unique $gene_name)])
dictionary_barrick_unique %>%
dplyr::filter(gene_name %in% list_dup_barrick)-> problematicBarrick
View(problematicBarrick)
# Problematic cases in barrick
list_dup_barrick=as.vector(dictionary_barrick_unique$gene_name[duplicated(dictionary_barrick_unique $gene_name)])
dictionary_barrick_unique %>%
dplyr::filter(gene_name %in% list_dup_barrick) %>%
dplyr::arrange(gene_name)-> problematicBarrick
View(problematicBarrick)
source('~/GitHub/AG3C_Analyze/generateDictionary/comparingDictionaries.R', echo=TRUE)
View(dictionary_join)
View(problematicBarrick)
source('~/GitHub/AG3C_Analyze/generateDictionary/comparingDictionaries.R', echo=TRUE)
View(dictionary_join)
View(problematicBarrick)
View(problematicInternet)
dictionary_join %>%
dplyr::filter(gene_name_barrick != gene_name_internet)
dictionary_join$gene_name_barrick != dictionary_join$gene_name_internet
dictionary_join$gene_name_barrick
dictionary_join %>%
dplyr::filter(as.vector(gene_name_barrick) != as.vector(gene_name_internet))
source('~/GitHub/AG3C_Analyze/generateDictionary/comparingDictionaries.R', echo=TRUE)
source('~/GitHub/AG3C_Analyze/generateDictionary/comparingDictionaries.R', echo=TRUE)
View(different_names)
debugSource('~/GitHub/AG3C_Analyze/generateDictionary/comparingDictionaries.R', echo=TRUE)
dictionary_internet_unique$gene_name
grep("|",dictionary_internet_unique$gene_name)
gsub("|","",dictionary_internet_unique$gene_name)
gsub("|","",dictionary_internet_unique$gene_name)
gsub("|","",as.vector(dictionary_internet_unique$gene_name))
gsub("-3","hahaha",as.vector(dictionary_internet_unique$gene_name))
gsub("|","hahaha",as.vector(dictionary_internet_unique$gene_name))
gsub("|","",as.vector(dictionary_internet_unique$gene_name))
gsub("\|","",as.vector(dictionary_internet_unique$gene_name))
gsub("\\|","",as.vector(dictionary_internet_unique$gene_name))
gsub("|","",as.vector(dictionary_internet_unique$gene_name))
gsub("\\|","",as.vector(dictionary_internet_unique$gene_name))
dictionary_internet_unique$gene_name<-gsub("\\|","",as.vector(dictionary_internet_unique$gene_name))
source('~/GitHub/AG3C_Analyze/generateDictionary/comparingDictionaries.R', echo=TRUE)
source('~/GitHub/AG3C_Analyze/generateDictionary/comparingDictionaries.R', echo=TRUE)
View(problematicInternet)
View(different_names)
problematicBarrick
View(different_names)
list_dup_barrick
source('~/GitHub/AG3C_Analyze/generateDictionary/comparingDictionaries.R', echo=TRUE)
View(dictionary_join)
dictionary_join %>%
dplyr::group_by(gene_id)
dplyr::mutate(gene_name_barrickC=ifelse(gene_name_barrick %in% list_dup_barrick,
gene_name_internet, gene_name_barrick)) -> dictionary_join
names(dictionary_join)
View(different_names)
View(dictionary_join)
source('~/GitHub/AG3C_Analyze/generateDictionary/comparingDictionaries.R', echo=TRUE)
dictionary_join %>%
dplyr::group_by(gene_id)
dplyr::mutate(gene_name_barrickC=gene_name_barrick) -> dictionary_join2
dictionary_join %>%
dplyr::group_by(gene_id) %>%
dplyr::mutate(gene_name_barrickC=ifelse(gene_name_barrick %in% list_dup_barrick,
gene_name_internet, gene_name_barrick)) -> dictionary_join2
dictionary_join %>%
dplyr::group_by(gene_id) %>%
dplyr::mutate(gene_name_barrickC=ifelse(gene_name_barrick %in% list_dup_barrick,
gene_name_internet, NA)) -> dictionary_join2
list_dup_barrick
"ddl" %in% list_dup_barrick
dictionary_join %>%
dplyr::group_by(gene_id) %>%
dplyr::mutate(gene_name_barrickC=ifelse(gene_name_barrick %in% list_dup_barrick,
5, NA)) -> dictionary_join2
list_dup_barrick
dictionary_join %>%
dplyr::mutate(gene_name_barrickC=ifelse(gene_name_barrick %in% list_dup_barrick,
5, NA)) -> dictionary_join2
View(dictionary_join2)
dictionary_join %>%
dplyr::mutate(gene_name_barrickC=ifelse(gene_name_barrick %in% list_dup_barrick,
gene_name_internet, gene_name_barrick)) -> dictionary_join2
View(dictionary_join2)
dictionary_join %>%
dplyr::mutate(gene_name_barrickC=ifelse(gene_name_barrick %in% list_dup_barrick,
gene_name_internet, as.character(gene_name_barrick))) -> dictionary_join2
View(dictionary_join2)
source('~/GitHub/AG3C_Analyze/generateDictionary/comparingDictionaries.R', echo=TRUE)
View(dictionary_join)
list_dup_barrickC=as.vector(dictionary_join$gene_name_barrickC[duplicated(dictionary_join$gene_name_barrickC)])
list_dup_barrickC
duplicated(dictionary_join$gene_name_barrickC)
dictionary_join$gene_name_barrickC[duplicated(dictionary_join$gene_name_barrickC)]
source('~/GitHub/AG3C_Analyze/generateDictionary/comparingDictionaries.R', echo=TRUE)
list_dup_barrickC
source('~/GitHub/AG3C_Analyze/generateDictionary/comparingDictionaries.R', echo=TRUE)
list_dup_barrickC
View(dictionary_join)
dictionary_join$gene_name_barrickC==NA
is.na(dictionary_join$gene_name_barrickC)
dictionary_join %>%
dplyr::mutate(gene_name_barrickC=ifelse(gene_name_barrick %in% list_dup_barrick & !is.na(gene_name_internet),
gene_name_internet,
as.character(gene_name_barrick))) -> dictionary_join
View(dictionary_join)
dictionary_join %>%
dplyr::mutate(gene_name_barrickC=ifelse(gene_name_barrick %in% list_dup_barrick & !is.na(gene_name_internet | is.na(gene_name_barrick)),
gene_name_internet,
as.character(gene_name_barrick))) -> dictionary_join
# correct barricks dictionary with internet one
dictionary_join %>%
dplyr::mutate(gene_name_barrickC=ifelse(gene_name_barrick %in% list_dup_barrick & !is.na(gene_name_internet | is.na(as.character(gene_name_barrick))),
gene_name_internet,
as.character(gene_name_barrick))) -> dictionary_join
dictionary_join$gene_name_barrick
dictionary_join$gene_name_barrick <- as.vector(dictionary_join$gene_name_barrick )
dictionary_join$gene_name_barrick
dictionary_join$gene_name_barrick <- as.vector(dictionary_join$gene_name_barrick )
dictionary_join %>%
dplyr::mutate(gene_name_barrickC=ifelse(gene_name_barrick %in% list_dup_barrick & !is.na(gene_name_internet | is.na(gene_name_barrick)),
gene_name_internet,
gene_name_barrick)) -> dictionary_join
dictionary_join$gene_name_barrick <- as.vector(dictionary_join$gene_name_barrick )
dictionary_join %>%
dplyr::mutate(gene_name_barrickC=ifelse(gene_name_barrick %in% list_dup_barrick & !is.na(gene_name_internet ),
gene_name_internet,
gene_name_barrick)) -> dictionary_join
source('~/GitHub/AG3C_Analyze/generateDictionary/comparingDictionaries.R', echo=TRUE)
source('~/GitHub/AG3C_Analyze/generateDictionary/comparingDictionaries.R', echo=TRUE)
View(dictionary_join)
list_dup_barrickC
source('~/GitHub/AG3C_Analyze/generateDictionary/comparingDictionaries.R', echo=TRUE)
list_dup_barrickC
list_dup_barrickC=as.vector(dictionary_join$gene_name_barrickC[duplicated(dictionary_join$gene_name_barrickC)])
dictionary_join %>%
dplyr::filter(gene_name_barrickC %in% list_dup_barrickC) %>%
dplyr::arrange(gene_id)-> problematicInternet
source('~/GitHub/AG3C_Analyze/generateDictionary/comparingDictionaries.R', echo=TRUE)
View(problematicJoin)
source('~/GitHub/AG3C_Analyze/generateDictionary/comparingDictionaries.R', echo=TRUE)
View(changedLines)
source('~/GitHub/AG3C_Analyze/generateDictionary/comparingDictionaries.R', echo=TRUE)
View(changedLines)
gene_id=c("ECB_03537","ECB_04146")
gene_name_barrickC=c("yeeV","yis1b")
handCorrect=as.data.frame(gene_id,gene_name_barrickC)
dictionary_join=merge(x = dictionary_join,
y = handCorrect,
by = "gene_id", all = TRUE, )
# What is changed
dictionary_join %>%
dplyr::filter(gene_name_barrick %in% list_dup_barrick) %>%
dplyr::arrange(gene_name_barrick)->changedLines
#****************************
View(changedLines)
dictionary_join[gene_id=="ECB_03537",]
dictionary_join[which(gene_id=="ECB_03537"),]
dictionary_join[which(dictionary_join$gene_id=="ECB_03537"),]
dictionary_join[which(dictionary_join$gene_id=="ECB_03537"),]["gene_name_barrickC"]
dictionary_join[which(dictionary_join$gene_id=="ECB_03537"),]["gene_name_barrickC"]="yeeV"
source('~/GitHub/AG3C_Analyze/generateDictionary/comparingDictionaries.R', echo=TRUE)
View(changedLines)
source('~/GitHub/AG3C_Analyze/generateDictionary/comparingDictionaries.R', echo=TRUE)
source('~/GitHub/AG3C_Analyze/generateDictionary/comparingDictionaries.R', echo=TRUE)
View(changedLines)
View(changedLines)
View(changedLines)
